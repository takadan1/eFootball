<!-- app/views/matches/_form.html.erb -->
<%= form_with model: @match, local: true do |f| %>
  <fieldset>
    <legend>勝敗</legend>
    <%= f.collection_radio_buttons :result, Match.results.keys, :to_s, ->(k){ { "win"=>"勝ち", "draw"=>"引き分け", "loss"=>"負け" }[k] } %>
  </fieldset>

  <hr>
  <h3>得点（0〜4）</h3>
  <% [:gf_counter,:gf_cross,:gf_one_two,:gf_long_shot,:gf_dribble,:gf_build_up,:gf_accident,:gf_other].each do |field| %>
    <div><%= f.label field, Match::GF_REASONS[field] %> <%= f.number_field field, in: 0..4, step: 1 %></div>
  <% end %>

  <h3>失点（0〜4）</h3>
  <% [:ga_counter,:ga_cross,:ga_one_two,:ga_long_shot,:ga_dribble,:ga_build_up,:ga_accident,:ga_other].each do |field| %>
    <div><%= f.label field, Match::GA_REASONS[field] %> <%= f.number_field field, in: 0..4, step: 1 %></div>
  <% end %>

  <hr>
  <div>
    <%= f.label :opponent_formation, "相手フォーメーション（例: 4123）" %><br>
    <%= f.text_field :opponent_formation, placeholder: "4123" %>
  </div>

  <div>
    <%= f.label :team_style, "チームスタイル" %><br>
    <%= f.select :team_style,
      Match.team_styles.keys.map { |k| [ { "short_counter"=>"ショートカウンター","long_counter"=>"ロングカウンター",
        "possession"=>"ポゼッション","long_ball"=>"ロングボール","side_attack"=>"サイドアタック" }[k], k] },
      include_blank: true %>
  </div>

  <div>
    <%= f.label :notes, "その他メモ" %><br>
    <%= f.text_area :notes, rows: 3, placeholder: "例：サイドバック攻撃的" %>
  </div>

  <%= f.submit %>
<% end %>
